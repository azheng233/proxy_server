设计目的：
在linux系统下编写一个简易的HTTPS代理服务器。

设计要求：
1.浏览器通过代理服务器能通过HTTP协议或HTTPS协议访问外部网站；
2.能够发现报文格式不正确的请求，并返回错误信息；
3.能够完整转发目标服务器发送来的报文给浏览器；
4.能够同时处理多个请求。

设计思路：
1.编写一个并发服务器能同时处理多个请求；
2.在接收浏览器请求报文时，先把报文分为起始行、报文首部和实体；
3.分析每个起始行和报文首部得到ip，port等重要的信息；
4.如果浏览器发送是一个http代理请求，直接连接服务器，并根据原报文编辑成一个http请求报文，发送给目标服务区，并转发目标服务器的信息；
5.如果浏览器发送是一个https代理请求，先分别与浏览器、目标服务器建立SSL连接，然后转发报文。

预期效果：
能够正常代理访问大多数网站，并且页面与不使用代理访问的效果相同。能够为报文格式错误，域名解析错误或服务器本身错误向浏览器返回错误信息。代码无严重内存泄漏，错误处理合理，可以一直运行。

阶段内容：
1.编写一个使用TCP协议的服务器，预计用时1周；
2.增加http协议使其成为http服务器，预计用时3周；
3.改变服务器功能成为http代理服务器，预计用时2周；
4.在TCP与http协议之间加入SSL协议，使其成为https代理服务器，预计用时2周。

参考资料：
[1] W.Richard Stevens, Bill Fenner, Andrew M.Rudoff. UNIX网络编程[M].北京：人民邮电出版社，2015.
[2] 殷人昆. 数据结构(C语言描述）[M].北京：清华大学出版社,2012. 324-337.
[3] David Gourley, Brian Totty.陈娟,赵振平等译.HTTP权威指南[M]. 北京：人民邮电出版社，2015.

         

[4] DaveShreiner. 李军译. Openssl编程指南[M]. 北京：机械工业出版社,2010.
[5] 屈光宇. HTTP 代理原理及实现（一） https://imququ.com/post/web-proxy.html.

完成设计条件：
    本次设计只需火狐浏览器、VirtualBox、CentOS 7系统极其相关软件工具即可完成。代理服务器使用的SSL证书为自签证书，并非正规机构颁发的SSL证书，但无碍于功能的实现。

指导教师签名：                          日期：                 
                                                                （可加页）
	

